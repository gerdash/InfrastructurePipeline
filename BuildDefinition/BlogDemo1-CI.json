{"options":[{"enabled":false,"definition":{"id":"5d58cc01-7c75-450c-be18-a388ddb129ec"},"inputs":{"branchFilters":"[\"+refs/heads/*\"]","additionalFields":"{}"}},{"enabled":false,"definition":{"id":"a9db38f9-9fdc-478c-b0f9-464221e58316"},"inputs":{"workItemType":"662608","assignToRequestor":"true","additionalFields":"{}"}},{"enabled":false,"definition":{"id":"57578776-4c22-4526-aeb0-86b6da17ee9c"},"inputs":{}}],"variables":{"system.debug":{"value":"false","allowOverride":true}},"retentionRules":[{"branches":["+refs/heads/*"],"artifacts":[],"artifactTypesToDelete":["FilePath","SymbolStore"],"daysToKeep":10,"minimumToKeep":1,"deleteBuildRecord":true,"deleteTestResults":true}],"metrics":[{"name":"CurrentBuildsInQueue","scope":"refs/heads/master","intValue":0},{"name":"CurrentBuildsInProgress","scope":"refs/heads/master","intValue":0},{"name":"CanceledBuilds","scope":"refs/heads/master","intValue":0,"date":"2018-01-25T00:00:00.000Z"},{"name":"FailedBuilds","scope":"refs/heads/master","intValue":0,"date":"2018-01-25T00:00:00.000Z"},{"name":"PartiallySuccessfulBuilds","scope":"refs/heads/master","intValue":0,"date":"2018-01-25T00:00:00.000Z"},{"name":"SuccessfulBuilds","scope":"refs/heads/master","intValue":1,"date":"2018-01-25T00:00:00.000Z"},{"name":"TotalBuilds","scope":"refs/heads/master","intValue":1,"date":"2018-01-25T00:00:00.000Z"},{"name":"CanceledBuilds","scope":"refs/heads/master","intValue":0,"date":"2018-01-21T00:00:00.000Z"},{"name":"FailedBuilds","scope":"refs/heads/master","intValue":2,"date":"2018-01-21T00:00:00.000Z"},{"name":"PartiallySuccessfulBuilds","scope":"refs/heads/master","intValue":0,"date":"2018-01-21T00:00:00.000Z"},{"name":"SuccessfulBuilds","scope":"refs/heads/master","intValue":3,"date":"2018-01-21T00:00:00.000Z"},{"name":"TotalBuilds","scope":"refs/heads/master","intValue":5,"date":"2018-01-21T00:00:00.000Z"}],"_links":{"self":{"href":"https://samcogan.visualstudio.com/6909cc41-9d69-4011-8664-7e29149a71f8/_apis/build/Definitions/2"},"web":{"href":"https://samcogan.visualstudio.com/_permalink/_build/index?collectionId=df44d82b-20da-486f-aee8-5c7f687c14c3&projectId=6909cc41-9d69-4011-8664-7e29149a71f8&definitionId=2"},"editor":{"href":"https://samcogan.visualstudio.com/_permalink/_build/definitionEditor?collectionId=df44d82b-20da-486f-aee8-5c7f687c14c3&projectId=6909cc41-9d69-4011-8664-7e29149a71f8&definitionId=2"}},"jobAuthorizationScope":1,"jobTimeoutInMinutes":60,"jobCancelTimeoutInMinutes":5,"process":{"phases":[{"dependencies":[],"steps":[{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Test Templates","timeoutInMinutes":0,"condition":"succeeded()","refName":"PesterPowershellunittestonAzure1","task":{"id":"31f040e5-e040-4336-878a-59a493334436","versionSpec":"2.*","definitionType":"task"},"inputs":{"ConnectedServiceNameSelector":"ConnectedServiceNameARM","ConnectedServiceName":"","ConnectedServiceNameARM":"3a99d0f5-9864-442f-91cf-54845615ef54","ItemSpec":"*.unit.tests.ps1","FailOnError":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Create Infrastructure for Tests","timeoutInMinutes":0,"condition":"succeeded()","refName":"AzureResourceGroupDeployment1","task":{"id":"94a74903-f93f-4075-884f-dc11f34058b4","versionSpec":"2.*","definitionType":"task"},"inputs":{"ConnectedServiceName":"3a99d0f5-9864-442f-91cf-54845615ef54","action":"Create Or Update Resource Group","resourceGroupName":"PipelineTest","location":"West Europe","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"Templates/azuredeploy.json","csmParametersFile":"Parameters/azuredeploy.parameters.json","overrideParameters":"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","outputVariable":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Test Infrastrucutre","timeoutInMinutes":0,"condition":"succeeded()","refName":"PesterPowershellunittestonAzure1","task":{"id":"31f040e5-e040-4336-878a-59a493334436","versionSpec":"2.*","definitionType":"task"},"inputs":{"ConnectedServiceNameSelector":"ConnectedServiceNameARM","ConnectedServiceName":"","ConnectedServiceNameARM":"3a99d0f5-9864-442f-91cf-54845615ef54","ItemSpec":"*.infra.tests.ps1","FailOnError":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":true,"displayName":"Publish Test Results **/TEST-*.xml","timeoutInMinutes":0,"condition":"succeededOrFailed()","refName":"PublishTestResults2","task":{"id":"0b0f01ed-7dde-43ff-9cbb-e48954daf9b1","versionSpec":"2.*","definitionType":"task"},"inputs":{"testRunner":"NUnit","testResultsFiles":"**/TEST-*.xml","searchFolder":"$(Agent.BuildDirectory)","mergeTestResults":"false","testRunTitle":"","platform":"","configuration":"","publishRunAttachments":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Delete Infrastructure","timeoutInMinutes":0,"condition":"always()","refName":"AzureResourceGroupDeployment2","task":{"id":"94a74903-f93f-4075-884f-dc11f34058b4","versionSpec":"2.*","definitionType":"task"},"inputs":{"ConnectedServiceName":"3a99d0f5-9864-442f-91cf-54845615ef54","action":"DeleteRG","resourceGroupName":"PipelineTest","location":"","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"","csmParametersFile":"","overrideParameters":"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","outputVariable":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Copy Files to: $(Build.ArtifactStagingDirectory)","timeoutInMinutes":0,"condition":"succeeded()","refName":"CopyFiles2","task":{"id":"5bfb729a-a7c8-4a78-a7c3-8d717bb7c13c","versionSpec":"2.*","definitionType":"task"},"inputs":{"SourceFolder":"","Contents":"*\\templates\n*\\parameters","TargetFolder":"$(Build.ArtifactStagingDirectory)","CleanTargetFolder":"false","OverWrite":"false","flattenFolders":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Archive files ","timeoutInMinutes":0,"condition":"succeeded()","refName":"ArchiveFiles3","task":{"id":"d8b84976-e99a-4b86-b885-4849694435b0","versionSpec":"1.*","definitionType":"task"},"inputs":{"rootFolder":"$(Build.ArtifactStagingDirectory)","includeRootFolder":"false","archiveType":"default","tarCompression":"gz","archiveFile":"$(Build.ArtifactStagingDirectory)/$(Build.BuildId).zip","replaceExistingArchive":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":" File Copy","timeoutInMinutes":0,"condition":"succeeded()","refName":"AzureFileCopy4","task":{"id":"eb72cb01-a7e5-427b-a8a1-1b31ccac8a43","versionSpec":"1.*","definitionType":"task"},"inputs":{"SourcePath":"$(Build.ArtifactStagingDirectory)","ConnectedServiceNameSelector":"ConnectedServiceNameARM","ConnectedServiceName":"","ConnectedServiceNameARM":"3a99d0f5-9864-442f-91cf-54845615ef54","Destination":"AzureBlob","StorageAccount":"","StorageAccountRM":"buildartifacts8769","ContainerName":"SingleVMDeployment","BlobPrefix":"","EnvironmentName":"","EnvironmentNameRM":"","ResourceFilteringMethod":"machineNames","MachineNames":"","vmsAdminUserName":"","vmsAdminPassword":"","TargetPath":"","AdditionalArguments":"","enableCopyPrerequisites":"false","CopyFilesInParallel":"true","CleanTargetBeforeCopy":"false","skipCACheck":"true","outputStorageUri":"","outputStorageContainerSasToken":""}}],"variables":{},"name":"Phase 1","condition":"succeeded()","target":{"demands":[],"executionOptions":{"type":0},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":"projectCollection","jobCancelTimeoutInMinutes":1}],"type":1},"repository":{"properties":{"apiUrl":"https://api.github.com/repos/sam-cogan/InfrastructurePipeline","branchesUrl":"https://api.github.com/repos/sam-cogan/InfrastructurePipeline/branches","cloneUrl":"https://github.com/sam-cogan/InfrastructurePipeline.git","fullName":"sam-cogan/InfrastructurePipeline","refsUrl":"https://api.github.com/repos/sam-cogan/InfrastructurePipeline/git/refs","defaultBranch":"master","connectedServiceId":"54167bf6-abf0-4592-ad93-ca27c4f0d02f","checkoutNestedSubmodules":"false","cleanOptions":"0","fetchDepth":"0","gitLfsSupport":"false","reportBuildStatus":"false","skipSyncSource":"false","labelSourcesFormat":"","labelSources":""},"id":"https://github.com/sam-cogan/InfrastructurePipeline.git","type":"GitHub","name":"sam-cogan/InfrastructurePipeline","url":"https://github.com/sam-cogan/InfrastructurePipeline.git","defaultBranch":"master","clean":"false","checkoutSubmodules":false},"processParameters":{},"quality":1,"authoredBy":{"id":"7be9395a-39e4-48a6-a19e-45beae2f378e","displayName":"Sam Cogan","uniqueName":"samcogan@hotmail.com","url":"https://app.vssps.visualstudio.com/A19432f1f-eb24-484c-b57b-fec6df56a639/_apis/Identities/7be9395a-39e4-48a6-a19e-45beae2f378e","imageUrl":"https://samcogan.visualstudio.com/_api/_common/identityImage?id=7be9395a-39e4-48a6-a19e-45beae2f378e"},"drafts":[],"queue":{"id":25,"name":"Hosted","pool":{"id":2,"name":"Hosted","isHosted":true}},"id":2,"name":"BlogDemo1-CI","url":"https://samcogan.visualstudio.com/6909cc41-9d69-4011-8664-7e29149a71f8/_apis/build/Definitions/2","uri":"vstfs:///Build/Definition/2","path":"\\","type":2,"queueStatus":0,"revision":17,"createdDate":"2018-01-28T13:16:31.497Z","project":{"id":"6909cc41-9d69-4011-8664-7e29149a71f8","name":"BlogDemo1","url":"https://samcogan.visualstudio.com/_apis/projects/6909cc41-9d69-4011-8664-7e29149a71f8","state":"wellFormed","revision":455450978,"visibility":0}}